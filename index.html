<!DOCTYPE html>
<html>
   <head>
      <title>Lahaina Before Fire</title>
      <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
      <style>
         .homepage-hero-module {
         border-right: none;
         border-left: none;
         position: relative;
         }
         .no-video .video-container video,
         .touch .video-container video {
         display: none;
         }
         .no-video .video-container .poster,
         .touch .video-container .poster {
         display: block !important;
         }
         .video-container {
         position: relative;
         bottom: 0%;
         left: 0%;
         height: 100%;
         width: 100%;
         overflow: hidden;
         background: #000;
         }
         .video-container .poster img {
         width: 100%;
         bottom: 0;
         position: absolute;
         }
         .video-container .filter {
         z-index: 100;
         position: absolute;
         background: rgba(0, 0, 0, 0.4);
         width: 100%;
         }
         .video-container video {
         position: absolute;
         z-index: 0;
         bottom: 0;
         }
         .video-container video.fillWidth {
         width: 100%;
         }
      </style>
   </head>
   <body>
      <div class="homepage-hero-module">
         <div class="video-container">
            <div class="filter"></div>
            <!-- Alternative: https://library.animatron.io/templates/c8b5565e0103cbd0253a91ff/youtube_horizontal_hd720.mp4 / jpg 1903 Ã— 980 pixels = 1.941 ratio vs. 1.77 HD) - Scaled (76%) -->
            <!-- Based on https://coverr.co/videos/amalfi-coast-bTeAKBk4kb -->
            <!-- amalfi-covvr.webm -->
            <video autoplay loop muted playsinline src="https://youtu.be/JoEmpq1AMbI" class="fillWidth">
               Sorry, your browser doesn't support embedded videos.
            </video>
            <div class="poster hidden">
               <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a5/L%C4%81hain%C4%81_oceanfront.JPG/1280px-L%C4%81hain%C4%81_oceanfront.JPG" alt="">
            </div>
         </div>
      </div>
   </body>
   <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
   <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
   <script>
      // jQuery is required to run this code
      $( document ).ready(function() {
        scaleVideoContainer();
      
        initBannerVideoSize('.video-container .poster img');
        initBannerVideoSize('.video-container .filter');
        initBannerVideoSize('.video-container video');
      
        $(window).on('resize', function() {
          scaleVideoContainer();
          scaleBannerVideoSize('.video-container .poster img');
          scaleBannerVideoSize('.video-container .filter');
          scaleBannerVideoSize('.video-container video');
        });
      });
      
      function scaleVideoContainer() {
        var height = $(window).height() + 5;
        var unitHeight = parseInt(height) + 'px';
        $('.homepage-hero-module').css('height',unitHeight);
      }
      
      function initBannerVideoSize(element){
        $(element).each(function(){
          $(this).data('height', $(this).height());
          $(this).data('width', $(this).width());
        });
      
        scaleBannerVideoSize(element);
      }
      
      function scaleBannerVideoSize(element) {
        var windowWidth = $(window).width(),
        windowHeight = $(window).height() + 5,
        videoWidth,
        videoHeight;
      
        // console.log(windowHeight);
      
        $(element).each(function(){
          var videoAspectRatio = $(this).data('height')/$(this).data('width');
      
          $(this).width(windowWidth);
      
          if(windowWidth < 1000){
              videoHeight = windowHeight;
              videoWidth = videoHeight / videoAspectRatio;
              $(this).css({'margin-top' : 0, 'margin-left' : -(videoWidth - windowWidth) / 2 + 'px'});
      
              $(this).width(videoWidth).height(videoHeight);
          }
      
          $('.homepage-hero-module .video-container video').addClass('fadeIn animated');
      
        });
      }
   </script>
</html>
